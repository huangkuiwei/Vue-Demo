<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <title>用 key 管理可复用的元素</title>
    <script src="https://cdn.jsdelivr.net/npm/vue@2.5.17/dist/vue.js"></script>
  </head>
  <body>
    <div id="app">
      <div v-if="mode === 'username'" key="username">
        <label for="username">用户名：</label>
        <input type="text" id="username">
      </div>
      <div v-else-if="mode === 'email'" key="email">
        <label for="email">邮箱：</label>
        <input type="text" id="email">
      </div>
      <div>
        <label for="password">密码：</label>
        <input type="password" id="password">
      </div>
      <button @click="mode = (mode === 'username' ? 'email' : 'username')">切换登录方式</button>
    </div>

    <script>
    /*
    Vue 会尽可能高效地渲染元素，通常会复用已有元素而不是从头开始渲染。
    这么做除了使 Vue 变得非常快之外，还有其它一些好处。例如，如果你允许用户在不同的登录方式之间切换
    */
    new Vue({
      el: '#app',
      data: {
        mode: 'username'
      }
    })
    </script>
  </body>
</html>
